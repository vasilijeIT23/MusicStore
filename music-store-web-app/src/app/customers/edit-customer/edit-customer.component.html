<form [formGroup]="formGroup" class="form-container">
  <div class="form-field" >
    <mat-form-field appearance="outline" class="styled-form-field">
      <mat-label>First name</mat-label>
      <input matInput type="text" formControlName="firstName" class="styled-input" [readonly]="disabled()">
    </mat-form-field>
  </div>

  <div class="form-field">
    <mat-form-field appearance="outline" class="styled-form-field">
      <mat-label>Last name</mat-label>
      <input matInput type="text" formControlName="lastName" class="styled-input" [readonly]="disabled()">
    </mat-form-field>
  </div>

  <div class="form-field">
    <mat-form-field appearance="outline" class="styled-form-field">
      <mat-label>Email</mat-label>
      <input matInput type="email" formControlName="email" placeholder="e.g. pat@example.com" class="styled-input" [readonly]="disabled()">
      <mat-error *ngIf="formGroup.get('email')?.hasError('email') && !formGroup.get('email')?.hasError('required')">Please enter a valid email address</mat-error>
      <mat-error *ngIf="formGroup.get('email')?.hasError('required')">Email is <strong>required</strong></mat-error>
    </mat-form-field>
  </div>

  <div class="form-field" *ngIf="disabled()">
    <mat-form-field appearance="outline" class="styled-form-field">
      <mat-label>Role</mat-label>
      <mat-select formControlName="role" class="styled-input">
        <mat-option *ngFor="let type of role | keyvalue" [value]="type.key" class="option" >{{ type.value }}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <button mat-flat-button type="submit" [disabled]="formGroup.invalid" (click)="onSubmit()" class="styled-button">Submit</button>
</form>
